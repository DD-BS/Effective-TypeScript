### Item52 - 테스팅 타입의 함정에 주의하기

- 타입 선언을 테스트하기는 매우 어렵다.
- 타입스크립트가 제공하는 도구를 사용해 단언문으로 때우기 십상이지만, 몇 가지 문제점이 있다.
- 궁극적으로는 `dtslint` 또는 타입 시스템 외부에서 타입을 검사하는 유사한 도구를 사용하는 것이 더 안전하고 간단하다.

- 테스팅을 위해 실제 반환 타입도 체크하는 것이 좋지만, 불필요한 타입 선언이 나타날 수 있다.

```tsx
const lengths: number[] = map(["john", "paul"], (name) => name.length);
```

- 위 코드는 불필요한 타입 선언에 해당하지만, 반환 타입이 `number[]`임을 보장하므로 테스트 코드 관점에서는 중요한 역할이다.

- 테스팅을 위해 할당을 사용하는 방법에는 두 가지 근본적인 문제가 있다.
  1. 불필요한 변수 생성

     - 반환값을 할당하는 변수는 샘플 코드처럼 쓰일 수도 있지만, 일부 린팅 규칙(미사용 변수 경고)을 비활성화 해야 한다.
     - 따라서 변수를 도입하는 대신 헬퍼 함수를 정의해서 해결할 수 있다.

     ```tsx
     function assertType<T>(x: T) {}
     assertType<number[]>(map(["john", "paul"], (name) => name.length));
     ```

  2. 두 타입이 동일한지 체크하는 것이 아니라 할당 가능성을 체크하고 있다
